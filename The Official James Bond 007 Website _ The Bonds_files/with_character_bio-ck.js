// @codekit-append "jqmobile_mouse.js";
// @codekit-append "jquery.event.move.js";
// @codekit-append "jquery.event.swipe.js";
// @codekit-append "character_bios_page.js";
/* **********************************************
     Begin jqmobile_mouse.js
********************************************** */// This plugin is an experiment for abstracting away the touch and mouse
// events so that developers don't have to worry about which method of input
// the device their document is loaded on supports.
//
// The idea here is to allow the developer to register listeners for the
// basic mouse events, such as mousedown, mousemove, mouseup, and click,
// and the plugin will take care of registering the correct listeners
// behind the scenes to invoke the listener at the fastest possible time
// for that device, while still retaining the order of event firing in
// the traditional mouse environment, should multiple handlers be registered
// on the same element for different events.
//
// The current version exposes the following virtual events to jQuery bind methods:
// "vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel"
//>>excludeStart("jqmBuildExclude", pragmas.jqmBuildExclude);
//>>description: Normalizes touch/mouse events.
//>>label: Virtual Mouse (vmouse) Bindings
//>>group: Core
//define( [ "jquery" ], function( $ ) {
//>>excludeEnd("jqmBuildExclude");
function doTrans(){if(currTrans<maxZ&&currTrans>minZ){jQuery("#timeline").css({transform:"translate3d(0,50px,"+currTrans+"px)"});currTrans>800?jQuery(".triggerhack").css({display:"block"}):jQuery(".triggerhack").css({display:"none"})}else{transDiff=-transDiff*.5;currTrans>=maxZ&&(currTrans=maxZ);currTrans<=minZ&&(currTrans=minZ)}}function checkTouch(){if(!mouseDown){transDiff*=.96;if(Math.abs(transDiff)<.2){clearInterval(myInterval);isAnimating=!1}else isAnimating=!0;currTrans=endTrans+transDiff;currTrans!==endTrans&&doTrans();endTrans=currTrans}}function getLocalCoords(e){var t,n,r;if(e.hasOwnProperty("changedTouches")){t=e.changedTouches[0];n=t.pageX;r=t.pageY}else{n=e.pageX;r=e.pageY}return{x:n-ox,y:r-oy}}function mousedown_handler(e){transArray=[];transDiff=0;var t=getLocalCoords(e.originalEvent);mouseDown=!0;endTrans=currTrans;startTrans=endTrans;startX=t.x;myInterval!==undefined&&clearInterval(myInterval);characterIsActive||(myInterval=setInterval(checkTouch,40))}function mousemove_handler(e){if(!mouseDown||characterIsActive)return!0;var t=getLocalCoords(e.originalEvent);currX=t.x;deltaX=startX-currX;deltaTrans=deltaX*.75;currTrans=startTrans+deltaTrans;transArray.push(currTrans);if(transArray.length>4){var n=transArray[transArray.length-4];transDiff=(currTrans-n)*.25}doTrans();e.cancelable&&e.originalEvent.preventDefault();return!1}function mouseup_handler(){if(mouseDown){mouseDown=!1;endTrans=currTrans}return!0}function addMouseListeners(){jQuery(".character-bios").bind("touchstart",mousedown_handler);jQuery(".character-bios").bind("touchmove",mousemove_handler);jQuery(".character-bios").bind("touchend",mouseup_handler);jQuery(".character-bios").bind("mousedown",mousedown_handler);jQuery(".character-bios").bind("mousemove",mousemove_handler);jQuery(".character-bios").bind("mouseup",mouseup_handler)}function removeMouseListeners(){jQuery(".character-bios").unbind("touchstart",mousedown_handler);jQuery(".character-bios").unbind("touchmove",mousemove_handler);jQuery(".character-bios").unbind("touchend",mouseup_handler);jQuery(".character-bios").unbind("mousedown",mousedown_handler);jQuery(".character-bios").unbind("mousemove",mousemove_handler);jQuery(".character-bios").unbind("mouseup",mouseup_handler)}function tilt(e,t){var n=50+e*100,r=25-t*100;jQuery("#character-bios-container").css({"perspective-origin":n+"% "+r+"%"})}function readDeviceOrientation(){return Math.abs(window.orientation)!==90&&window.orientation!==undefined?"P":"L"}function getDeviceOrientationFactor(){switch(window.orientation){case 0:return-1;case 180:return 1;case-90:return-1;case 90:return 1}}function hideNavBar(){setTimeout(function(){window.scrollTo(0,1);isiPhone&&!isIpad&&readDeviceOrientation()!=="L"&&(isiPhoneOSCompatable?document.getElementById("viewport").setAttribute("content","width=device-width, maximum-scale=0.42, user-scalable=no"):document.getElementById("viewport").setAttribute("content","width=device-width, maximum-scale=0.3125, user-scalable=no"))},0)}function returnToAll(){jQuery("#close_btn_2").css({display:"none"});jQuery("#bioImg_container").css({opacity:"0",transform:"scale3d(5,5,1)"});setTimeout(function(){jQuery("#bioImg_container").css({display:"none"})},1e3);addMouseListeners();jQuery("#instructions").css({opacity:"1"});myInterval!==undefined&&clearInterval(myInterval);characterIsActive=!1;jQuery("#character-bios-container").css({transform:"none"});currTrans=minZ;jQuery("#timeline").css({"-webkit-transition":"-webkit-transform 0.4s ease-in-out","-moz-transition":"-moz-transform 0.4s ease-in-out",transition:"transform 0.4s ease-in-out",transform:"translate3d(0,50px,"+currTrans+"px)"});setTimeout(function(){jQuery("#timeline").css({transition:"none"});jQuery("#character-bios-container").css({transition:"none"});jQuery("#bio_text").html("");jQuery("#bio_image .cropped").css({background:"none","-moz-transition":"none"});jQuery("#btn_bio").trigger("vclick")},1e3);jQuery("#character_content").removeClass("active");jQuery("#gallery_container").css({"transition-delay":"0s"});jQuery("#gallery_container").removeClass("active");timeLineItems.each(function(e,t){jQuery("#bioImg"+e).css({display:"none"});e!==timeLineItems.length-1?jQuery(t).css({opacity:"1",display:"block"}):jQuery(t).css({opacity:"1",display:"block"});setTimeout(function(){jQuery(t).css({transition:"none"})},1100)})}(function(e,t,n,r){function x(e){while(e&&typeof e.originalEvent!="undefined")e=e.originalEvent;return e}function T(t,n){var i=t.type,s,o,a,l,c,h,p,d,v;t=e.Event(t);t.type=n;s=t.originalEvent;o=e.event.props;i.search(/^(mouse|click)/)>-1&&(o=f);if(s)for(p=o.length,l;p;){l=o[--p];t[l]=s[l]}i.search(/mouse(down|up)|click/)>-1&&!t.which&&(t.which=1);if(i.search(/^touch/)!==-1){a=x(s);i=a.touches;c=a.changedTouches;h=i&&i.length?i[0]:c&&c.length?c[0]:r;if(h)for(d=0,v=u.length;d<v;d++){l=u[d];t[l]=h[l]}}return t}function N(t){var n={},r,s;while(t){r=e.data(t,i);for(s in r)r[s]&&(n[s]=n.hasVirtualBinding=!0);t=t.parentNode}return n}function C(t,n){var r;while(t){r=e.data(t,i);if(r&&(!n||r[n]))return t;t=t.parentNode}return null}function k(){g=!1}function L(){g=!0}function A(){E=0;v.length=0;m=!1;L()}function O(){k()}function M(){_();c=setTimeout(function(){c=0;A()},e.vmouse.resetTimerDuration)}function _(){if(c){clearTimeout(c);c=0}}function D(t,n,r){var i;if(r&&r[t]||!r&&C(n.target,t)){i=T(n,t);e(n.target).trigger(i)}return i}function P(t){var n=e.data(t.target,s);if(!m&&(!E||E!==n)){var r=D("v"+t.type,t);if(r){r.isDefaultPrevented()&&t.preventDefault();r.isPropagationStopped()&&t.stopPropagation();r.isImmediatePropagationStopped()&&t.stopImmediatePropagation()}}}function H(t){var n=x(t).touches,r,i;if(n&&n.length===1){r=t.target;i=N(r);if(i.hasVirtualBinding){E=w++;e.data(r,s,E);_();O();d=!1;var o=x(t).touches[0];h=o.pageX;p=o.pageY;D("vmouseover",t,i);D("vmousedown",t,i)}}}function B(e){if(g)return;d||D("vmousecancel",e,N(e.target));d=!0;M()}function j(t){if(g)return;var n=x(t).touches[0],r=d,i=e.vmouse.moveDistanceThreshold,s=N(t.target);d=d||Math.abs(n.pageX-h)>i||Math.abs(n.pageY-p)>i;d&&!r&&D("vmousecancel",t,s);D("vmousemove",t,s);M()}function F(e){if(g)return;L();var t=N(e.target),n;D("vmouseup",e,t);if(!d){var r=D("vclick",e,t);if(r&&r.isDefaultPrevented()){n=x(e).changedTouches[0];v.push({touchID:E,x:n.clientX,y:n.clientY});m=!0}}D("vmouseout",e,t);d=!1;M()}function I(t){var n=e.data(t,i),r;if(n)for(r in n)if(n[r])return!0;return!1}function q(){}function R(t){var n=t.substr(1);return{setup:function(r,s){I(this)||e.data(this,i,{});var o=e.data(this,i);o[t]=!0;l[t]=(l[t]||0)+1;l[t]===1&&b.bind(n,P);e(this).bind(n,q);if(y){l.touchstart=(l.touchstart||0)+1;l.touchstart===1&&b.bind("touchstart",H).bind("touchend",F).bind("touchmove",j).bind("scroll",B)}},teardown:function(r,s){--l[t];l[t]||b.unbind(n,P);if(y){--l.touchstart;l.touchstart||b.unbind("touchstart",H).unbind("touchmove",j).unbind("touchend",F).unbind("scroll",B)}var o=e(this),u=e.data(this,i);u&&(u[t]=!1);o.unbind(n,q);I(this)||o.removeData(i)}}}var i="virtualMouseBindings",s="virtualTouchID",o="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),u="clientX clientY pageX pageY screenX screenY".split(" "),a=e.event.mouseHooks?e.event.mouseHooks.props:[],f=e.event.props.concat(a),l={},c=0,h=0,p=0,d=!1,v=[],m=!1,g=!1,y="addEventListener"in n,b=e(n),w=1,E=0,S;e.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};for(var U=0;U<o.length;U++)e.event.special[o[U]]=R(o[U]);y&&n.addEventListener("click",function(t){var n=v.length,r=t.target,i,o,u,a,f,l;if(n){i=t.clientX;o=t.clientY;S=e.vmouse.clickDistanceThreshold;u=r;while(u){for(a=0;a<n;a++){f=v[a];l=0;if(u===r&&Math.abs(f.x-i)<S&&Math.abs(f.y-o)<S||e.data(u,s)===f.touchID){t.preventDefault();t.stopPropagation();return}}u=u.parentNode}}},!0)})(jQuery,window,document);(function(e){typeof define=="function"&&define.amd?define(["jquery"],e):e(jQuery)})(function(e,t){function l(e){function i(e){if(n){t();o(i);r=!0;n=!1}else r=!1}var t=e,n=!1,r=!1;this.kick=function(e){n=!0;r||i()};this.end=function(e){var i=t;if(!e)return;if(!r)e();else{t=n?function(){i();e()}:e;n=!0}}}function c(){return!0}function h(){return!1}function p(e){e.preventDefault()}function d(e){if(u[e.target.tagName.toLowerCase()])return;e.preventDefault()}function v(e){return e.which===1&&!e.ctrlKey&&!e.altKey}function m(e,t){var n,r;if(e.identifiedTouch)return e.identifiedTouch(t);n=-1;r=e.length;while(++n<r)if(e[n].identifier===t)return e[n]}function g(e,t){var n=m(e.changedTouches,t.identifier);if(!n)return;if(n.pageX===t.pageX&&n.pageY===t.pageY)return;return n}function y(e){var t;if(!v(e))return;t={target:e.target,startX:e.pageX,startY:e.pageY,timeStamp:e.timeStamp};r(document,a.move,b,t);r(document,a.cancel,w,t)}function b(e){var t=e.data;C(e,t,e,E)}function w(e){E()}function E(){i(document,a.move,b);i(document,a.cancel,E)}function S(e){var t,n;if(u[e.target.tagName.toLowerCase()])return;t=e.changedTouches[0];n={target:t.target,startX:t.pageX,startY:t.pageY,timeStamp:e.timeStamp,identifier:t.identifier};r(document,f.move+"."+t.identifier,x,n);r(document,f.cancel+"."+t.identifier,T,n)}function x(e){var t=e.data,n=g(e,t);if(!n)return;C(e,t,n,N)}function T(e){var t=e.data,n=m(e.changedTouches,t.identifier);if(!n)return;N(t.identifier)}function N(e){i(document,"."+e,x);i(document,"."+e,T)}function C(e,t,r,i){var s=r.pageX-t.startX,o=r.pageY-t.startY;if(s*s+o*o<n*n)return;A(e,t,r,s,o,i)}function k(){this._handled=c;return!1}function L(e){e._handled()}function A(e,t,n,r,i,o){var u=t.target,a,f;a=e.targetTouches;f=e.timeStamp-t.timeStamp;t.type="movestart";t.distX=r;t.distY=i;t.deltaX=r;t.deltaY=i;t.pageX=n.pageX;t.pageY=n.pageY;t.velocityX=r/f;t.velocityY=i/f;t.targetTouches=a;t.finger=a?a.length:1;t._handled=k;t._preventTouchmoveDefault=function(){e.preventDefault()};s(t.target,t);o(t.identifier)}function O(e){var t=e.data.event,n=e.data.timer;B(t,e,e.timeStamp,n)}function M(e){var t=e.data.event,n=e.data.timer;_();j(t,n,function(){setTimeout(function(){i(t.target,"click",h)},0)})}function _(e){i(document,a.move,O);i(document,a.end,M)}function D(e){var t=e.data.event,n=e.data.timer,r=g(e,t);if(!r)return;e.preventDefault();t.targetTouches=e.targetTouches;B(t,r,e.timeStamp,n)}function P(e){var t=e.data.event,n=e.data.timer,r=m(e.changedTouches,t.identifier);if(!r)return;H(t);j(t,n)}function H(e){i(document,"."+e.identifier,D);i(document,"."+e.identifier,P)}function B(e,t,n,r){var i=n-e.timeStamp;e.type="move";e.distX=t.pageX-e.startX;e.distY=t.pageY-e.startY;e.deltaX=t.pageX-e.pageX;e.deltaY=t.pageY-e.pageY;e.velocityX=.3*e.velocityX+.7*e.deltaX/i;e.velocityY=.3*e.velocityY+.7*e.deltaY/i;e.pageX=t.pageX;e.pageY=t.pageY;r.kick()}function j(e,t,n){t.end(function(){e.type="moveend";s(e.target,e);return n&&n()})}function F(e,t,n){r(this,"dragstart.move drag.move",p);r(this,"mousedown.move",d);r(this,"movestart.move",L);return!0}function I(e){i(this,"dragstart drag",p);i(this,"mousedown touchstart",d);i(this,"movestart",L);return!0}var n=6,r=e.event.add,i=e.event.remove,s=function(t,n,r){e.event.trigger(n,r,t)},o=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){return window.setTimeout(function(){e()},25)}}(),u={textarea:!0,input:!0,select:!0},a={move:"mousemove",cancel:"mouseup dragstart",end:"mouseup"},f={move:"touchmove",cancel:"touchend",end:"touchend"};e.event.special.movestart={setup:F,teardown:I,_default:function(e){var n,i;if(!e._handled())return;n={target:e.target,startX:e.startX,startY:e.startY,pageX:e.pageX,pageY:e.pageY,distX:e.distX,distY:e.distY,deltaX:e.deltaX,deltaY:e.deltaY,velocityX:e.velocityX,velocityY:e.velocityY,timeStamp:e.timeStamp,identifier:e.identifier,targetTouches:e.targetTouches,finger:e.finger};i={event:n,timer:new l(function(t){s(e.target,n)})};if(e.identifier===t){r(e.target,"click",h);r(document,a.move,O,i);r(document,a.end,M,i)}else{e._preventTouchmoveDefault();r(document,f.move+"."+e.identifier,D,i);r(document,f.end+"."+e.identifier,P,i)}}};e.event.special.move={setup:function(){r(this,"movestart.move",e.noop)},teardown:function(){i(this,"movestart.move",e.noop)}};e.event.special.moveend={setup:function(){r(this,"movestart.moveend",e.noop)},teardown:function(){i(this,"movestart.moveend",e.noop)}};r(document,"mousedown.move",y);r(document,"touchstart.move",S);typeof Array.prototype.indexOf=="function"&&function(e,t){var n=["changedTouches","targetTouches"],r=n.length;while(r--)e.event.props.indexOf(n[r])===-1&&e.event.props.push(n[r])}(e)});(function(e){typeof define=="function"&&define.amd?define(["jquery"],e):e(jQuery)})(function(e,t){function o(e){var t,n,r;t=e.target.offsetWidth;n=e.target.offsetHeight;r={distX:e.distX,distY:e.distY,velocityX:e.velocityX,velocityY:e.velocityY,finger:e.finger};if(e.distX>e.distY){if(e.distX>-e.distY){if(e.distX/t>s.threshold||e.velocityX*e.distX/t*s.sensitivity>1){r.type="swiperight";i(e.currentTarget,r)}}else if(-e.distY/n>s.threshold||e.velocityY*e.distY/t*s.sensitivity>1){r.type="swipeup";i(e.currentTarget,r)}}else if(e.distX>-e.distY){if(e.distY/n>s.threshold||e.velocityY*e.distY/t*s.sensitivity>1){r.type="swipedown";i(e.currentTarget,r)}}else if(-e.distX/t>s.threshold||e.velocityX*e.distX/t*s.sensitivity>1){r.type="swipeleft";i(e.currentTarget,r)}}function u(t){var n=e.data(t,"event_swipe");if(!n){n={count:0};e.data(t,"event_swipe",n)}return n}var n=e.event.add,r=e.event.remove,i=function(t,n,r){e.event.trigger(n,r,t)},s={threshold:.4,sensitivity:6};e.event.special.swipe=e.event.special.swipeleft=e.event.special.swiperight=e.event.special.swipeup=e.event.special.swipedown={setup:function(e,t,r){var e=u(this);if(e.count++>0)return;n(this,"moveend",o);return!0},teardown:function(){var e=u(this);if(--e.count>0)return;r(this,"moveend",o);return!0},settings:s}});var isSafari,isChrome,isFirefox,isiPhone,isIpad,isiPhoneOSCompatable,isiPadOSCompatable,isAndroid,isExplorer10,bioHtml="",mouseDown=!1,startTrans=0,deltaTrans=0,endTrans=0,zSpacing=200,startX,currX=0,deltaX,characterIsActive=!1,maxZ=700,minZ=0,currTrans=minZ,finalPerspective=700,transDiff=0,myInterval,isAnimating=!1,transArray=[],timeLineItems,ox,oy;jQuery(document).ready(function(){function n(){jQuery("#character-bios-container").parent().addClass("loading");t++;jQuery("#bioImg_container").html(bioHtml);var e=!1;(isIpad&&isiPadOSCompatable||isSafari||isChrome||isFirefox||isExplorer10||isiPhone&&isiPhoneOSCompatable||isAndroid)&&!e?setTimeout(function(){jQuery("#character-bios-container").parent().removeClass("loading");jQuery("#timeline").css({transition:"none"});jQuery("#character-bios-container").css({transition:"none"});characterIsActive||jQuery("#instructions").css({opacity:"1"})},1500):jQuery("#character-bios-container").append('<div id="bio-error"><p>Sorry, this feature is not available for your browser. We recommend using Chrome. <br>We hope to bring it to more browsers soon.</p></div>');currTrans=minZ;jQuery("#timeline").css({opacity:"1"});jQuery(".timeline_item").css({visibility:"hidden"});jQuery(".timeline_item").css({visibility:"visible"});jQuery("#character-bios-container").css({perspective:finalPerspective+"px"})}function r(){if(!characterIsActive){removeMouseListeners();myInterval!==undefined&&clearInterval(myInterval);jQuery("#character_content").addClass("active");characterIsActive=!0;var e=jQuery(this),t=e.data("id"),n=window.charObj.characters[t];jQuery("#instructions").css({opacity:"0"});jQuery(".nameOverlay h1").html(n.name);jQuery(".nameOverlay").removeClass("visible");jQuery("#character_content h1").html("<span class='inner'>"+n.name+"</span>");jQuery("#character_content .col-1").html(n.filmsText);jQuery("#character_content .col-2").html(n.bioText);jQuery("#character_content .col-3").html(n.extraText);jQuery("#character_content .carousel").html("");jQuery("#character_content .carousel").css({opacity:"0"});jQuery(".carousel-slide").css({background:"url(/wp-content/themes/007-2014/library/images/loader.gif) no-repeat center"});jQuery("#character_content .carousel").html(n.galleryHtml);jQuery("#character_content .carousel").imagesLoaded(function(){jQuery(".carousel-slide").css({background:"none"});jQuery("#character_content .carousel").css({opacity:"1"})});setUpPrettyPhotos();jQuery("#bioImg_container").html('<img src="'+n.bioImage+'" />');jQuery("#bioImg_container").css({opacity:"0"});jQuery("#bioImg_container").css({display:"block"});setTimeout(function(){jQuery("#bioImg_container").css({opacity:"1",transform:"scale3d(1,1,1)"})},100);jQuery(".small-carousel-container").trigger("destroy");jQuery(".small-carousel-container").smallCarousel({useCSSTransforms:!0});var r,i=[1650,-1100,1400,-850,400,-250,1050];r=i[t];isFirefox?jQuery("#character-bios-container").css({"-moz-transform":"translate3d("+r+"px,0px,0)","-moz-transition":"opacity 0.1s ease-out 1.8s, -moz-transform 0.4s ease-in-out, -moz-perspective 1s ease-out 2s"}):jQuery("#character-bios-container").css({transform:"translate3d("+r+"px,0px,0)","-webkit-transition":"opacity 0.1s ease-out 1.8s, -webkit-transform 0.4s ease-in-out, -webkit-perspective 1s ease-out 2s",transition:"opacity 0.1s ease-out 1.8s, transform 0.4s ease-in-out, perspective 1s ease-out 2s"});setTimeout(function(){isiPhone&&!isIpad&&jQuery("#close_btn_2").css({display:"block"})},400);currTrans=-e.data("zPos");isFirefox?jQuery("#timeline").css({"-moz-transition":"-moz-transform 0.4s ease-in-out","-moz-transform":"translate3d(0,130px,"+(currTrans+500)+"px)"}):jQuery("#timeline").css({"-webkit-transition":"-webkit-transform 0.4s ease-in-out",transition:"transform 0.4s ease-in-out",transform:"translate3d(0,130px,"+(currTrans+500)+"px)","transform-style":"none"});jQuery("#gallery_container").css({"transition-delay":"1.0s"});jQuery("#gallery_container").addClass("active")}else returnToAll()}ox=jQuery("#timeline").offset().left;oy=jQuery("#timeline").offset().top;isChrome=Modernizr.chrome;isFirefox=Modernizr.firefox;isiPhone=Modernizr.iphone;isiPhoneOSCompatable=navigator.userAgent.match(/5_1/i)===null&&navigator.userAgent.match(/OS 4/i)===null;isiPadOSCompatable=navigator.userAgent.match(/OS 4/i)===null;isExplorer10=Modernizr.explorer10;isIpad=Modernizr.ipad;isSafari=Modernizr.safaridesktop;isAndroid=Modernizr.android;if(isExplorer10){maxZ=400;jQuery("#timeline").css({perspective:"700px"});jQuery("#characters").css({perspective:"700px"})}hideNavBar();timeLineItems=jQuery(".timeline_item");var e=[-50,-50,-450,-450,-850,-850,-1250];timeLineItems.each(function(t,n){jQuery(n).find("img").attr("draggable","false");var i=e[t];jQuery(n).data("zPos",i);jQuery(n).mouseover(function(e){var t=timeLineItems.index(jQuery(this)),n=window.charObj.characters[t];jQuery(".nameOverlay h1").html(n.name);jQuery(".nameOverlay h1").width(n.name.length*14.8);var r=e.originalEvent.pageX-jQuery("#character-bios-container").offset().left-jQuery(".nameOverlay h1").width()/2-0,i=40;isExplorer10&&(i=20);var s=e.originalEvent.pageY-jQuery("#character-bios-container").offset().top-jQuery(".nameOverlay h1").height()-i;jQuery(".nameOverlay").css({left:r+"px",top:s+"px"});jQuery(".nameOverlay").addClass("visible")}).mouseleave(function(){jQuery(".nameOverlay").removeClass("visible")});jQuery(n).bind("click",r)});jQuery("#close_btn").bind("vclick",returnToAll);jQuery("#close_btn_2").bind("vclick",returnToAll);var t=0;jQuery("#characters").imagesLoaded(function(){n()});addMouseListeners()});window.onorientationchange=hideNavBar;var tiltCount=0;window.DeviceOrientationEvent?window.addEventListener("deviceorientation",function(){if(!characterIsActive&&tiltCount<5){tiltCount++;readDeviceOrientation()==="L"?tilt(getDeviceOrientationFactor()*(event.beta/100),getDeviceOrientationFactor()*(event.gamma/zSpacing)):tilt(-getDeviceOrientationFactor()*(event.gamma/zSpacing),getDeviceOrientationFactor()*(event.beta/100))}else tiltCount=0},!0):window.DeviceMotionEvent&&window.addEventListener("devicemotion",function(){if(!characterIsActive&&tiltCount<5){tiltCount++;tilt(event.acceleration.x*2,event.acceleration.y*2)}else tiltCount=0},!0);